@reference "@trycompai/design-system/globals.css";

/* Code block syntax highlighting */
pre {
  background: #0d0d0d;
  color: #fff;
  font-family: 'JetBrainsMono', monospace;
  padding: 0.75rem 1rem;

  code {
    background: none;
    color: inherit;
    font-size: 0.8rem;
    padding: 0;
  }

  .hljs-comment,
  .hljs-quote {
    color: #616161;
  }

  .hljs-variable,
  .hljs-template-variable,
  .hljs-attribute,
  .hljs-tag,
  .hljs-name,
  .hljs-regexp,
  .hljs-link,
  .hljs-selector-id,
  .hljs-selector-class {
    color: #f98181;
  }

  .hljs-number,
  .hljs-meta,
  .hljs-built_in,
  .hljs-builtin-name,
  .hljs-literal,
  .hljs-type,
  .hljs-params {
    color: #fbbc88;
  }

  .hljs-string,
  .hljs-symbol,
  .hljs-bullet {
    color: #b9f18d;
  }

  .hljs-title,
  .hljs-section {
    color: #faf594;
  }

  .hljs-keyword,
  .hljs-selector-tag {
    color: #70cff8;
  }

  .hljs-emphasis {
    font-style: italic;
  }

  .hljs-strong {
    font-weight: 700;
  }
}

/* Base editor styles - using .tiptap as recommended by Tiptap docs */
.tiptap,
.ProseMirror {
  @apply w-full text-sm leading-normal;
  height: var(--editor-height, 100%);
  min-height: var(--editor-min-height, 350px);

  &:focus {
    @apply outline-hidden;
  }

  /* Typography */
  h1 {
    @apply text-foreground text-xl font-semibold;
  }

  h2 {
    @apply text-foreground text-lg font-semibold;
  }

  h3 {
    @apply text-foreground text-base font-semibold;
  }

  h4 {
    @apply text-foreground text-sm font-semibold;
  }

  p {
    @apply text-sm text-foreground;
  }

  /* Lists */
  ul,
  ol {
    @apply my-1 ml-4 space-y-1;
  }

  ul {
    list-style-type: disc;
  }

  ol {
    list-style-type: decimal;
  }

  li {
    @apply text-sm leading-6;
  }

  li > p {
    @apply m-0;
  }

  /* Spacing between sections */
  h1 + p,
  h2 + p,
  h3 + p,
  h4 + p {
    @apply mt-1;
  }

  /* Code blocks */
  pre {
    @apply bg-muted my-4 overflow-x-auto rounded-md p-4;
  }

  code {
    @apply font-mono text-sm;
  }

  /* Inline code */
  :not(pre) > code {
    @apply bg-muted rounded px-1 py-0.5;
  }

  /* Blockquotes */
  blockquote {
    @apply border-primary my-4 border-l-4 pl-4 italic;
  }

  /* Task lists */
  ul[data-type='taskList'] {
    @apply list-none p-0;

    li {
      @apply flex items-start gap-2;
    }
  }

  /* Placeholder */
  p.is-empty::before {
    @apply text-muted-foreground;
    content: attr(data-placeholder);
    float: left;
    height: 0;
    pointer-events: none;
  }

  /* Tables */
  table {
    @apply border-border my-4 w-full border-collapse border;
  }

  th {
    @apply text-sm font-medium;
  }

  td,
  th {
    @apply border-border border p-2;
  }

  /* Links */
  a {
    @apply text-primary underline;
  }

  /* Horizontal rule */
  hr {
    @apply border-border my-4;
  }
}
