---
title: "GCP Cloud Tests"
description: "Connect Google Cloud Platform to Comp AI for cloud security testing"
---

# Google Cloud Platform Cloud Test

The Google Cloud Platform (GCP) Cloud Test allows you to connect your GCP projects to Comp AI for automated compliance monitoring, and risk assessment.

## Setup Process

### Prerequisites

Before setting up the Cloud Test, ensure you have:

1. GCP project with Owner or Editor access
2. Admin access to your Comp AI workspace
3. Permissions to create service accounts

<Note>
  Security Command Center must be enabled on your GCP account. 

  GCP Console =\> Security =\> Risk Overview
</Note>

### Configuration Steps

1. Navigate to **Cloud Tests** in your Comp AI dashboard
2. Click on **Connect** next to the GCP integration card
3. Link Service Account
   - In a Project, go to the [GCP Console → IAM & Admin → Service Accounts](https://console.cloud.google.com/iam-admin/serviceaccounts)
   - Click **“Create Service Account”** and give it a name like `comp-ai-integration`
   - Click **Continue**, then grant the following roles:
     - `Security Center Findings Viewer` (`roles/securitycenter.findingsViewer`)
     - `Service Usage Consumer`
     - `Viewer` (`roles/viewer`)
   - Complete the service account creation
   - Copy the Service Account Email that was generated (this will be needed for the next step)

     <img
       src="/packages/docs/images/Screenshot2025-11-18at10.40.02AM.png"
       alt="Screenshot 2025-11-18 at 10.40.02 AM.png"
       title="Screenshot 2025-11-18 at 10.40.02 AM.png"
       className="mx-auto"
       style={{ width:"50%" }}
     />
   - After creating the service account:
     - Go to the **“Keys”** tab
     - Click **“Add Key” → “Create new key”**, select **JSON**, then click **Create**
     - Download the key — you’ll use this in the next step
   - Go to the [API Library](https://console.cloud.google.com/apis/library) and enable:
     - **Security Command Center API**
     - **Cloud Resource Manager API**
4. At the Org level, go to the GCP Console → IAM & Admin → IAM
   - Grant access
   - Add the Service account email from the last step
   - Grant the following role:
     - `Security Center Findings Viewer` (`roles/securitycenter.findingsViewer`)

<img
  src="/packages/docs/images/Screenshot2025-11-18at10.50.37AM.png"
  alt="Screenshot 2025-11-18 at 10.50.37 AM.png"
  title="Screenshot 2025-11-18 at 10.50.37 AM.png"
  className="mx-auto"
  style={{ width:"52%" }}
/>

4. Add Credentials to GCP Cloud Test in Comp AI app
   1. Copy & Paste the Organization Id (Not the project Id) from Google Cloud into the **Organization ID** field in the Comp AI connection form
   1. Open the downloaded JSON file, and copy its entire contents
   2. Paste it into the **Service Account Key** field in the Comp AI connection form

      <img
        src="/packages/docs/images/Screenshot2025-11-20at9.31.56AM.png"
        alt="Screenshot 2025-11-20 at 9.31.56 AM.png"
        title="Screenshot 2025-11-20 at 9.31.56 AM.png"
        className="mx-auto"
        style={{ width:"54%" }}
      />
1. Click Connect GCP

## Capabilities

### Security Tests

The GCP Cloud Test performs the following security assessments:

| Test Category     | Description                                                           |
| ----------------- | --------------------------------------------------------------------- |
| IAM Analysis      | Review IAM roles and service account permissions                      |
| GCS Security      | Identify improperly configured bucket permissions and encryption      |
| Compute Security  | Analyze firewall rules, instance configurations, and patch status     |
| Database Security | Check Cloud SQL, Firestore, and other database security settings      |
| Cloud Logging     | Verify proper logging and monitoring configuration                    |
| KMS               | Validate encryption key usage and rotation policies                   |
| Network           | Assess VPC configurations, firewall rules, and load balancer settings |

### Compliance Frameworks

The Cloud Test checks compliance against:

- CIS GCP Foundation Benchmark
- SOC 2
- HIPAA (where applicable)
- PCI DSS
- GDPR
- ISO 27001

## Managing Access

### Access Control

Comp AI requires read-only access to your GCP environment. The Cloud Test uses a service account with specific IAM roles that follow the principle of least privilege.

### Permissions

The service account has the following roles:

- Viewer (roles/viewer) at project level
- Security Reviewer (roles/iam.securityReviewer)
- Storage Object Viewer (roles/storage.objectViewer)

The integration does NOT have permissions to:

- Modify any resources
- Create new resources
- Delete existing resources

## Troubleshooting

### Common Issues

**Issue**: Failed to connect GCP project\
**Solution**: Verify organization id and service account key and IAM permissions

**Issue**: Missing scan results for specific services\
**Solution**: Check IAM permissions for those specific services

**Issue**: Authentication errors\
**Solution**: Ensure the service account key is valid and not expired

### Support

For additional assistance with your GCP integration:

1. Check our [Knowledge Base](https://help.trycomp.ai/gcp-integration)
2. Contact support at [support@trycomp.ai](mailto:support@trycomp.ai)
3. Join our [Discord community](https://discord.gg/compai) for peer support